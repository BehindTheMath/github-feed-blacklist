{"version":3,"sources":["scripts/contentscript.js"],"names":["feedSize","loadNextPage","button","document","querySelector","click","feedCleaning","lines","querySelectorAll","Array","prototype","forEach","call","line","classes","classList","repo","text","chrome","runtime","sendMessage","response","parentNode","contains","star","add","remove","fork","observer","MutationObserver","length","onMessage","addListener","request","sender","update","observe","childList"],"mappings":"AAAA,YAEA,IAAIA,UAAW,GAEXC,aAAe,WACjB,GAAIC,GAASC,SAASC,cAAc,wBACpC,OAAIF,IACFA,EAAOG,SACA,IAEF,GAGLC,aAAe,WACjB,GAAIC,GAAQJ,SAASK,iBAAiB,iBACtCC,OAAMC,UAAUC,QAAQC,KAAKL,EAAO,SAAUM,GAC5C,GAAIC,GAAUD,EAAKE,UACfC,EAAOH,EAAKL,iBAAiB,cAAc,GAAGS,IAElDC,QAAOC,QAAQC,aAAcJ,KAAMA,GAAQ,SAAUK,GAC/CR,EAAKS,aACHR,EAAQS,SAAS,mBACG,SAAlBF,EAASG,KACXX,EAAKE,UAAUU,IAAI,QAEnBZ,EAAKE,UAAUW,OAAO,SAGtBZ,EAAQS,SAAS,UACG,SAAlBF,EAASM,KACXd,EAAKE,UAAUU,IAAI,QAEnBZ,EAAKE,UAAUW,OAAO,eAQ9BE,SAAW,GAAIC,kBAAiB,WAClCvB,eACIH,SAASK,iBAAiB,6BAA6BsB,OAAS9B,UAClEC,gBAIJiB,QAAOC,QAAQY,UAAUC,YAAY,SAAUC,EAASC,GAClDD,EAAQE,QACV7B,iBAIJsB,SAASQ,QAAQjC,SAASC,cAAc,UAAYiC,WAAW,IAG/D/B,eACAL","file":"scripts/contentscript.js","sourcesContent":["'use strict';\n\nvar feedSize = 50;\n\nvar loadNextPage = function loadNextPage() {\n  var button = document.querySelector('.news > form > button');\n  if (button) {\n    button.click();\n    return true;\n  }\n  return false;\n};\n\nvar feedCleaning = function feedCleaning() {\n  var lines = document.querySelectorAll('.news > .alert');\n  Array.prototype.forEach.call(lines, function (line) {\n    var classes = line.classList;\n    var repo = line.querySelectorAll('.title > a')[1].text;\n\n    chrome.runtime.sendMessage({ repo: repo }, function (response) {\n      if (line.parentNode) {\n        if (classes.contains('watch_started')) {\n          if (response.star === 'true') {\n            line.classList.add('hide');\n          } else {\n            line.classList.remove('hide');\n          }\n        }\n        if (classes.contains('fork')) {\n          if (response.fork === 'true') {\n            line.classList.add('hide');\n          } else {\n            line.classList.remove('hide');\n          }\n        }\n      }\n    });\n  });\n};\n\nvar observer = new MutationObserver(function () {\n  feedCleaning();\n  if (document.querySelectorAll('.news > .alert:not(.hide)').length < feedSize) {\n    loadNextPage();\n  }\n});\n\nchrome.runtime.onMessage.addListener(function (request, sender) {\n  if (request.update) {\n    feedCleaning();\n  }\n});\n\nobserver.observe(document.querySelector('.news'), { childList: true });\n\n// Start !\nfeedCleaning();\nloadNextPage();"],"sourceRoot":"/source/"}